---

# Where are we deploying this stuff?
#
# The name is used to decrypt installation-specific variables
# that are expected to be found in 'vars/sensitive-<name>.vault',
# and you will need to provide the vault password when running the playbook.
infra_installation_name: scw-im-main-staging

# A set of parameters for our im-main (staging) Scaleway cluster.

k8s_kubeconfig: "{{ lookup('env', 'KUBECONFIG') }}"

core_deploy_cluster_issuer: no

infra_priority_class: im-application-critical
infra_namespace: im-infra-staging

ingress_class: nginx

efs_state: absent
cinder_state: absent

pg_state: present
pg_image: informaticsmatters/rdkit-cartridge-debian
pg_version: Release_2024_03_3
pg_vol_size_g: 4
pg_cpu_request: 100m
pg_mem_request: 250Mi

pg_bu_state: present
pg_bu_image_tag: "15.8"
# 4 backups a day (at 6-hourly intervals)
pg_bu_hourly_schedule: "1 5,11,17,23 * * *"
pg_bu_hourly_history: 4
# 7 daily backups
pg_bu_daily_schedule: "31 5 * * *"
pg_bu_daily_history: 7
# 4 weekly backups (on Sundays)
pg_bu_weekly_schedule: "41 5 * * 0"
pg_bu_weekly_history: 4
# 3 monthly backups (on the 1st of each month)
pg_bu_monthly_schedule: "41 5 1 * *"
pg_bu_monthly_history: 3

kc_state: present
kc_hostname: squonk.informaticsmatters.org

rabbitmq_state: present
rabbitmq_hostname: rabbitmq-staging-scw.informaticsmatters.com
rabbitmq_version: "4.2.2"
